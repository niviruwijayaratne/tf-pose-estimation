<!DOCTYPE html>
<html>
    <head>
        <title>ThreeJS Crash Course</title>
    </head>
    <style>
        body {margin: 0;}
        canvas {width: 100%; height: 100%;}
    </style>
    <body>
        <script src="threejs/three.js"></script>
        <script src="threejs/OrbitControls.js"></script>
        <!-- <script type="module" src="threejs/LineMaterial.js"></script> -->
        <script>
            var scene = new THREE.Scene( );
            var camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000); //
            camera.position.z = 3;

            var renderer = new THREE.WebGLRenderer( );
            renderer.setSize( window.innerWidth, window.innerHeight);

            document.body.appendChild(renderer.domElement);

            window.addEventListener('resize', function() {
                renderer.setSize(window.innerWidth, window.innerHeight);
                camera.aspect = window.innerWidth/window.innerHeight;
                camera.updateProjectionMatrix();
            });

            var control = new THREE.OrbitControls(camera, renderer.domElement);
            // var geometry = new THREE.BoxGeometry( 1, 1, 1 );
            // var material = new THREE.MeshBasicMaterial( {color: 0xffffff} , wireframe = true);
            // var cube = new THREE.Mesh( geometry, material );
            // scene.add( cube );

            var point_texture = new THREE.TextureLoader().load( 'assets/point_texture.png' );

            var point_material = new THREE.PointsMaterial( { size: 0.1, color: 0xffffff, map: point_texture, transparent:true } );
            var line_material = new THREE.LineBasicMaterial({ color: 0xffffff, linewidth: 2.0 } );
            

            var vertices = [0.21145409197168208, 0.2730487511453148, 0.018752014130358097, 0.032130187194084, 0.2363264633814608, 
            0.05293943460254891, -0.037055594677013914, -0.16376370240050153, -0.32709426485909954, 0.14531983077430732, -0.1670090605890967, 
            -1.0, 0.48936984452886856, 0.3097709637853525, 0.0659558225690029, 0.696099856269832, -0.13035542874355144, -0.3501706382677622, 
            0.8121426737403441, -0.08059834895562368, -0.863651052945638, 0.15531913973934208, 0.3620627064382318, 0.3813811981448241, 
            0.09596775969472082, 0.34047683356287717, 0.7804623831716846, 0.10518882514688177, 0.1830505940790006, 0.8663990275996758, 
            0.08658222679739125, 0.2409739525077208, 1.0, 0.4158915047243099, 0.38520144555949565, 0.7526430137049445, 
            0.7078991632835563, 0.46298604301036694, 0.39279329338115554, 0.6668588266061315, 0.30121451653625164, 0.08762039326508542, 
            -0.22505416605041606, 0.3449282380513943, 0.7456777483278627, -0.5057535840337866, 0.27822567668414044, 0.5463551874622274, 
            -0.7234559847563179, 0.04062532735038604, 0.5000043965882488];

            var indices = [0, 1, 1, 2, 2, 3, 0, 4, 4, 5, 5, 6, 0, 7,7, 8, 8, 9,9, 10,8, 11,11, 12,12, 13,8, 14,14, 15, 15, 16];
  
            var line_geometry = new THREE.BufferGeometry();
            line_geometry.setIndex( indices );
			line_geometry.setAttribute( 'position', new THREE.Float32BufferAttribute( vertices, 3 ) );

            var point_geometry = new THREE.BufferGeometry();
            point_geometry.setAttribute( 'position', new THREE.Float32BufferAttribute( vertices, 3 ) );

            // var line = new THREE.Points( geometry, material );
            var line = new THREE.LineSegments(line_geometry, line_material);
            var point = new THREE.Points(point_geometry, point_material)
            // line.setSize(10.0)
            scene.add( line );
            scene.add(point);
            


            var update = function() {
                // cube.rotation.x += 0.1;
                // // cube.rotation.y += 0.005;
                // cube.rotation.z += 0.005;
            };

            var render = function() {
                renderer.render( scene, camera );

            };
            //run game lolop (update, render, repeat)
            var GameLoop = function () {
                requestAnimationFrame(GameLoop);
                update();
                render();
            };

            GameLoop();
        </script>
        </script>
    </body>
</html>